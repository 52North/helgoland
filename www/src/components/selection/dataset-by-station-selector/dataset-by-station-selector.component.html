<div class="item" *ngFor="let timeseries of station.properties.timeseries | keys" [ngClass]="{'error': timeseries.value.error}" (click)="toggle(timeseries.value)">
    <div *ngIf="timeseries.value.loading">
        <div>
            {{timeseries.value.phenomenon.label}} loading...
        </div>
    </div>
    <div *ngIf="timeseries.value.error">
        Could not load {{timeseries.value.phenomenon.label}}
    </div>
    <div *ngIf="timeseries.value.loaded" [ngClass]="{'selected': timeseries.value.selected}">
        <div>
            {{timeseries.value.phenomenon.label}}
        </div>
        <span>{{timeseries.value.procedure.label}}</span>
        <span *ngIf="timeseries.value.category.label && timeseries.value.category.label != timeseries.value.phenomenon.label">({{timeseries.value.category.label}})</span>
        <div class="additionalInfo" *ngIf="timeseries.value.loaded.lastValue">
            <span>{{timeseries.value.loaded.lastValue.value}}</span>
            <span>{{timeseries.value.loaded.uom}}</span>
            <span>({{timeseries.value.loaded.lastValue.timestamp| date: 'dd.MM.yy HH:mm'}})</span>
        </div>
    </div>
</div>
